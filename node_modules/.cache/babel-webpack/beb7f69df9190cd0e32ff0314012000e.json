{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"./readwrite.service\";\nimport * as i3 from \"@angular/common\";\n\nfunction PostgresqlComponent_tr_63_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"th\", 17);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵelementStart(10, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function PostgresqlComponent_tr_63_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.removeItem(item_r1._id);\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(11, \"svg\", 19);\n    i0.ɵɵelement(12, \"path\", 20);\n    i0.ɵɵelement(13, \"path\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1._id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.city);\n  }\n}\n\nexport let PostgresqlComponent = /*#__PURE__*/(() => {\n  class PostgresqlComponent {\n    constructor(fb, readwriteService) {\n      this.fb = fb;\n      this.readwriteService = readwriteService;\n      this.requests = [];\n      this.form = this.fb.group({\n        name: [null],\n        email: [null],\n        city: [null],\n        _id: [null]\n      });\n    }\n\n    ngOnInit() {\n      this.readData();\n    }\n\n    readData() {\n      this.data = this.readwriteService.readData().subscribe(res => this.requests = res);\n    }\n\n    removeItem(id) {\n      this.readwriteService.deleteItem(id).subscribe(response => console.log(response), error => console.log(error));\n      setTimeout(() => this.readData(), 300);\n    }\n\n    submitForm() {\n      var formData = new FormData();\n      formData.append(\"_id\", this.form.get('_id').value);\n      formData.append(\"name\", this.form.get('name').value);\n      formData.append(\"email\", this.form.get('email').value);\n      formData.append(\"city\", this.form.get('city').value);\n      console.log(this.form.get('_id').value);\n      console.log(this.form.get('name').value);\n      console.log(this.form.get('email').value);\n      console.log(this.form.get('city').value);\n      this.user = {\n        '_id': this.form.get('_id').value,\n        'name': this.form.get('name').value.toString(),\n        'email': this.form.get('email').value.toString(),\n        'city': this.form.get('city').value.toString()\n      };\n      this.readwriteService.writeUser(this.user).subscribe(response => console.log(response), error => console.log(error));\n      setTimeout(() => this.readData(), 300);\n    }\n\n  }\n\n  PostgresqlComponent.ɵfac = function PostgresqlComponent_Factory(t) {\n    return new (t || PostgresqlComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ReadwriteService));\n  };\n\n  PostgresqlComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PostgresqlComponent,\n    selectors: [[\"app-postgresql\"]],\n    decls: 64,\n    vars: 2,\n    consts: [[1, \"container\"], [1, \"row\"], [1, \"col\"], [\"src\", \"./assets/postgres.png\", \"width\", \"200px\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-row\"], [1, \"form-group\", \"col-md-6\"], [\"for\", \"inputEmail4\"], [\"type\", \"name\", \"id\", \"_id\", \"formControlName\", \"_id\", \"placeholder\", \"ID\", 1, \"form-control\"], [\"type\", \"name\", \"id\", \"name\", \"formControlName\", \"name\", \"placeholder\", \"Name\", 1, \"form-control\"], [\"for\", \"inputPassword4\"], [\"type\", \"email\", \"id\", \"email\", \"formControlName\", \"email\", \"placeholder\", \"Email\", 1, \"form-control\"], [\"type\", \"name\", \"id\", \"city\", \"formControlName\", \"city\", \"placeholder\", \"City\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [1, \"table\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [\"scope\", \"row\"], [1, \"btn\", \"btn-red\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-x-lg\"], [\"fill-rule\", \"evenodd\", \"d\", \"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z\"], [\"fill-rule\", \"evenodd\", \"d\", \"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z\"]],\n    template: function PostgresqlComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelement(3, \"p\");\n        i0.ɵɵelement(4, \"p\");\n        i0.ɵɵelementStart(5, \"p\");\n        i0.ɵɵelement(6, \"img\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"h5\");\n        i0.ɵɵtext(8, \"All data on this page \");\n        i0.ɵɵelement(9, \"br\");\n        i0.ɵɵtext(10, \"is stored and retreieved \");\n        i0.ɵɵelement(11, \"br\");\n        i0.ɵɵtext(12, \"from a PostgreSQL database\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 2);\n        i0.ɵɵelementStart(14, \"form\", 4);\n        i0.ɵɵlistener(\"ngSubmit\", function PostgresqlComponent_Template_form_ngSubmit_14_listener() {\n          return ctx.submitForm();\n        });\n        i0.ɵɵelementStart(15, \"div\", 5);\n        i0.ɵɵelement(16, \"p\");\n        i0.ɵɵelement(17, \"p\");\n        i0.ɵɵelement(18, \"p\");\n        i0.ɵɵelementStart(19, \"h1\");\n        i0.ɵɵtext(20, \"Write Data\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(21, \"p\");\n        i0.ɵɵelementStart(22, \"div\", 6);\n        i0.ɵɵelementStart(23, \"label\", 7);\n        i0.ɵɵtext(24, \"ID\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(25, \"input\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(26, \"p\");\n        i0.ɵɵelementStart(27, \"div\", 6);\n        i0.ɵɵelementStart(28, \"label\", 7);\n        i0.ɵɵtext(29, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(30, \"input\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(31, \"p\");\n        i0.ɵɵelementStart(32, \"div\", 6);\n        i0.ɵɵelementStart(33, \"label\", 10);\n        i0.ɵɵtext(34, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(35, \"input\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(36, \"p\");\n        i0.ɵɵelementStart(37, \"div\", 6);\n        i0.ɵɵelementStart(38, \"label\", 10);\n        i0.ɵɵtext(39, \"City\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(40, \"input\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(41, \"p\");\n        i0.ɵɵelementStart(42, \"p\");\n        i0.ɵɵelementStart(43, \"button\", 13);\n        i0.ɵɵtext(44, \"Submit\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"div\", 2);\n        i0.ɵɵelement(46, \"p\");\n        i0.ɵɵelement(47, \"p\");\n        i0.ɵɵelement(48, \"p\");\n        i0.ɵɵelementStart(49, \"h1\");\n        i0.ɵɵtext(50, \"Read Data\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(51, \"table\", 14);\n        i0.ɵɵelementStart(52, \"thead\");\n        i0.ɵɵelementStart(53, \"tr\");\n        i0.ɵɵelementStart(54, \"th\", 15);\n        i0.ɵɵtext(55, \"#\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(56, \"th\", 15);\n        i0.ɵɵtext(57, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(58, \"th\", 15);\n        i0.ɵɵtext(59, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(60, \"th\", 15);\n        i0.ɵɵtext(61, \"City\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(62, \"tbody\");\n        i0.ɵɵtemplate(63, PostgresqlComponent_tr_63_Template, 14, 4, \"tr\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\n        i0.ɵɵadvance(49);\n        i0.ɵɵproperty(\"ngForOf\", ctx.requests);\n      }\n    },\n    directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i3.NgForOf],\n    styles: [\"\"]\n  });\n  return PostgresqlComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}